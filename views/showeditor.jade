extends layout

block content
    h2(class='centered') Welcome to #{title} -- your source for the very best music from artists appearing here soon!
    h3(class='centered') Some of our friends playing in town this week:
    #nowPlaying(class='centered')
        table
            tr
                td(class='thumb-cell')
                    img(id='artist-thumbnail', src='', class='img-circle artist')
                td(class='description-cell')
                    p(id='artist-name')='artist currently playing'
                    p(id='track-name')='track currently playing'
                    a(id='performance-link', href='#', style='margin-left: 10px;')='link to performance page'
            tr
        div(id='play-buttons', class='btn-group showlist-container')
            button(id='playPrev', class="btn btn-default pb")<i class="icon-backward"></i>
            button(id='playPlay', class="btn btn-default pb")<i class="icon-play"></i>
            button(id='playPause', class="btn btn-default pb")<i class="icon-pause"></i>
            button(id='playNext', class="btn btn-default pb")<i class="icon-forward"></i>


    #playBar

        div(id='date-range', class='showlist-container control-group')
            div(class='controls')
                div(class='input-group')
                    label(id='date-button', for="performance-date" class="input-group-addon btn ladda-button", data-style='expand-left', data-spinner-color="#46a546")
                        span(class="ladda-label")
                        span(class="icon-calendar")
                    input(id='performance-date', type='text', class='date-picker form-control', placeholder='enter a date!')

         div(class='showlist-container')
            div(class='dropdown')
                button(id='get-playlists', class='dropdown-toggle btn ladda-button', data-toggle='dropdown', data-style='expand-left', data-spinner-color="#46a546") Load playlist here
                    span(class="ladda-label")
                    b(class='caret')

                ul(id='saved-list',class='dropdown-menu')
                    li Playlist A
                    li Playlist B

        div(class='showlist-container')
            button(id='save-playlist', class='btn btn-default ladda-button', data-toggle='dropdown', data-style='expand-left', data-spinner-color="#46a546") Save Playlist
                span(class="ladda-label")

            input(id='playlist-name', type='text', class='input-large', placeholder='enter a name for the playlist', required)

        div(class='showlist-container')
            button(id='trash-playlist', class=' btn btn-default ladda-button', data-style='expand-left', data-spinner-color="#46a546")
                span(class="ladda-label")
                icon(class='icon-trash')
                //b(class='caret')

    #songContainer(class='show-container')
        ul
            li Select a date above to see shows, artists, and songs

        //ul
        //    for val in artistTracks
        //        li(class='song-title')
        //            a(href=val.event_uri, target='_blank')!=val.displayName
        //        ul(class='trackList')
        //            for item in val.trackList
        //                li(id=item.row, class=(item.foreign_id === 'none') ? 'tracklist' : 'tracklist track-playable', data-track_id=item.foreign_id, data-event_id=item.event_id)= item.title
        //            else
        //                li(class='tracklist') no tracks!
        //    else
        //        li no artist!
    #showContainer(class='show-container')
        ul(class='showList')
            li Drag songs for the show into this container -- drag to trash container to remove

    #footer(class='container span10 offset1')
        small Powered by 
            a(href='http://soundkick.com') Soundkick
            |  ,&nbsp;
            |  <a href='http://echonest.com'>The Echo Nest</a>
            |  &nbsp;and&nbsp;
            |  <a href='http://rdio.com'>Rdio</a>

    script(type='text/javascript').
        artistData =!{JSON.stringify(artistTracks)}
    script(src='https://rdio.com/api/api.js?client_id=uidoeau3k5frvc3yat3hxb3h2q')
    script(src='/scripts/get_key_with_callback.js')
    script(src='/scripts/player.js')
    script(src='/scripts/touchpunch.js')
       